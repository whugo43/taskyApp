{"version":3,"sources":["webpack:///src/app/folder/adopcion-editar/adopcion-editar.page.html","webpack:///src/app/folder/adopcion-editar/adopcion-editar-routing.module.ts","webpack:///src/app/folder/adopcion-editar/adopcion-editar.module.ts","webpack:///src/app/folder/adopcion-editar/adopcion-editar.page.scss","webpack:///src/app/folder/adopcion-editar/adopcion-editar.page.ts"],"names":["routes","path","component","AdopcionEditarPageRoutingModule","imports","forChild","exports","AdopcionEditarPageModule","declarations","AdopcionEditarPage","angularFireStorage","router","adopcionService","alertCtrt","activateRoute","loadingController","adopcion","paramMap","subscribe","id","get","getAdopcion","res","image","Foto1","image1","Foto2","event","target","files","file1","reader","FileReader","onload","e","imageSrc","result","readAsDataURL","guardarunarchivo","file2","imageSrc2","form","presentLoading","Titulo","value","titulo","Descripcion","descripcion","guardarArchivo","registroCompleto","file","num","storageRef","storage","ref","child","name","put","then","data","getDownloadURL","downloadURL","err","loading","dismiss","console","log","updateAdopcion","auth","navigate","error","failedAlert","mensaje","create","cssClass","message","present","text","header","buttons","handler","alert","selector","template"],"mappings":"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","file":"folder-adopcion-editar-adopcion-editar-module-es5.js","sourcesContent":["export default \"<ion-header >\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-segment color=\\\"tertiary\\\" value=\\\"adopcion\\\" >\\r\\n\\r\\n\\r\\n      <ion-segment-button value=\\\"publicaciones\\\" [routerLink]=\\\"['/publicaciones']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"newspaper-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Publicaciones</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n      <ion-segment-button value=\\\"cursos\\\" [routerLink]=\\\"['/cursos']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"library-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 14px;\\\">Cursos</ion-label>\\r\\n      </ion-segment-button>\\r\\n    \\r\\n    \\r\\n      <ion-segment-button value=\\\"perfil\\\" [routerLink]=\\\"['/perfil']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"person-circle-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Perfil</ion-label>\\r\\n      </ion-segment-button>\\r\\n\\r\\n      <ion-segment-button value=\\\"adopcion\\\" [routerLink]=\\\"['/adopcion']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"paw-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Adopcion</ion-label>\\r\\n      </ion-segment-button>\\r\\n\\r\\n    </ion-segment>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n\\r\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"crearAdopcion(form)\\\">\\r\\n      <ion-list>   \\r\\n        \\r\\n        <ion-card style=\\\"margin-top:15px\\\">\\r\\n          <ion-item>\\r\\n            <ion-label>Título </ion-label>\\r\\n          </ion-item>\\r\\n          <ion-item>\\r\\n          \\r\\n            <ion-input required value=\\\"{{adopcion.Titulo}}\\\" name=\\\"titulo\\\" type='text' ngModel required></ion-input>\\r\\n          </ion-item>\\r\\n\\r\\n        </ion-card>\\r\\n\\r\\n\\r\\n      <ion-card style=\\\"margin-top:15px\\\">\\r\\n        <ion-item>\\r\\n          <ion-label>Descripción </ion-label>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-textarea required value=\\\"{{adopcion.Descripcion}}\\\" name=\\\"descripcion\\\" type='text' ngModel required></ion-textarea>\\r\\n        </ion-item>\\r\\n\\r\\n\\r\\n\\r\\n      </ion-card>\\r\\n\\r\\n    <ion-card style=\\\"margin-top:15px\\\">\\r\\n      <ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-icon name=\\\"image-outline\\\"></ion-icon> <ion-text color=\\\"\\\" style=\\\"margin-left: 7.5px;\\\">Editar foto 1</ion-text>\\r\\n      \\r\\n        <ion-input type='file' accept=\\\"image/*\\\" id=\\\"myFileInput\\\" name=\\\"foto1\\\" (change)=\\\"readURL1($event);\\\" class=\\\"fileInput\\\" ngModel></ion-input>\\r\\n\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item slot='end' *ngIf='adopcion.Foto2==\\\"\\\"'>\\r\\n          <ion-icon name=\\\"images-outline\\\"></ion-icon> <ion-text color=\\\"\\\" style=\\\"margin-left: 7.5px;\\\">Añadir otra foto</ion-text>\\r\\n      \\r\\n          <ion-input type='file' accept=\\\"image/*\\\" id=\\\"myFileInput\\\" name=\\\"foto2\\\" (change)=\\\"readURL2($event);\\\" class=\\\"fileInput\\\" ngModel></ion-input>\\r\\n\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item slot='end' *ngIf='adopcion.Foto2!=\\\"\\\"'>\\r\\n          <ion-icon name=\\\"images-outline\\\"></ion-icon> <ion-text color=\\\"\\\" style=\\\"margin-left: 7.5px;\\\">Editar foto 2</ion-text>\\r\\n      \\r\\n          <ion-input type='file' accept=\\\"image/*\\\" id=\\\"myFileInput\\\" name=\\\"foto2\\\" (change)=\\\"readURL2($event);\\\" class=\\\"fileInput\\\" ngModel></ion-input>\\r\\n\\r\\n        </ion-item>\\r\\n        \\r\\n      \\r\\n        \\r\\n\\r\\n      </ion-item>\\r\\n\\r\\n    </ion-card>\\r\\n    \\r\\n    <ion-card style=\\\"margin-top:15px\\\">\\r\\n      <ion-item>\\r\\n\\r\\n        <ion-img id=\\\"blah\\\" [src]=\\\"image\\\" alt=\\\"your image\\\" style=\\\"margin-top:5px;margin-bottom: 5px;height: 250px;width: 250px;\\\"></ion-img>\\r\\n      \\r\\n        \\r\\n        <ng-container *ngIf='image1!=\\\"\\\"'>\\r\\n          <ion-img id=\\\"blah\\\" [src]=\\\"image1\\\" alt=\\\"your image\\\" style=\\\"margin-left: 5px;margin-top:5px;margin-bottom: 5px;height: 250px;width: 250px;\\\"></ion-img>\\r\\n          <ion-icon *ngIf='image1!=\\\"\\\"' size=\\\"large\\\" color='danger' name=\\\"trash-outline\\\" (click)=\\\"eliminarFoto2()\\\"></ion-icon>\\r\\n        </ng-container>\\r\\n        \\r\\n\\r\\n        \\r\\n      </ion-item>\\r\\n\\r\\n    </ion-card>\\r\\n\\r\\n\\r\\n  </ion-list>\\r\\n  \\r\\n\\r\\n    <ion-button  style=\\\"width: 150px;margin:auto;\\\" type=\\\"submit\\\"  [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">\\r\\n      Actualizar\\r\\n    </ion-button>\\r\\n  </form>\\r\\n\\r\\n</ion-content>\\r\\n<style>\\r\\n#myFileInput{\\r\\n  position: absolute;\\r\\n  opacity: 0;\\r\\n}\\r\\n</style>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AdopcionEditarPage } from './adopcion-editar.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AdopcionEditarPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AdopcionEditarPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AdopcionEditarPageRoutingModule } from './adopcion-editar-routing.module';\r\n\r\nimport { AdopcionEditarPage } from './adopcion-editar.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AdopcionEditarPageRoutingModule\r\n  ],\r\n  declarations: [AdopcionEditarPage]\r\n})\r\nexport class AdopcionEditarPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9hZG9wY2lvbi1lZGl0YXIvYWRvcGNpb24tZWRpdGFyLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { AngularFireStorage } from 'angularfire2/storage';\r\n\r\nimport { Adopcion } from 'src/app/models/adopcion';\r\nimport { AdopcionService } from 'src/app/services/adopcion.service';\r\n\r\n@Component({\r\n  selector: 'app-adopcion-editar',\r\n  templateUrl: './adopcion-editar.page.html',\r\n  styleUrls: ['./adopcion-editar.page.scss'],\r\n})\r\nexport class AdopcionEditarPage implements OnInit {\r\n  public adopcion: Adopcion=new Adopcion();\r\n  file2: File;\r\n  imageSrc: string | ArrayBuffer;\r\n  file1: File;\r\n  loading: any;\r\n  imageSrc2: string | ArrayBuffer;\r\n  id: string;\r\n\r\n  image: string;\r\n  image1: string;\r\n\r\n  constructor(private angularFireStorage: AngularFireStorage,\r\n    private router: Router,\r\n    private adopcionService: AdopcionService,\r\n    private alertCtrt: AlertController,\r\n    private activateRoute: ActivatedRoute,          \r\n    public loadingController: LoadingController,) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.paramMap.subscribe(paramMap => {\r\n      const id = paramMap.get('id');\r\n      this.id = id;\r\n      this.adopcionService.getAdopcion(id).subscribe(res=>{this.adopcion = res;this.image = res.Foto1;this.image1 = res.Foto2});\r\n      \r\n    });\r\n  }\r\n  \r\n  readURL1(event): void {\r\n    if (event.target.files && event.target.files[0]) {\r\n        this.file1 = event.target.files[0];\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = e => this.imageSrc = reader.result;\r\n\r\n        reader.readAsDataURL(this.file1);\r\n        this.guardarunarchivo(this.file1,1)\r\n    }\r\n  }\r\n\r\n  eliminarFoto2(){\r\n    this.image1 = '';\r\n    this.adopcion.Foto2 = '';\r\n  }\r\n\r\n  eliminarFoto1(){\r\n    this.image = '';\r\n    this.adopcion.Foto1 = '';\r\n  }\r\n\r\n  readURL2(event): void {\r\n    if (event.target.files && event.target.files[0]) {\r\n        this.file2 = event.target.files[0];\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = e => this.imageSrc2 = reader.result;\r\n\r\n        reader.readAsDataURL(this.file2);\r\n        this.guardarunarchivo(this.file2,2)\r\n    }\r\n  }\r\n\r\n\r\n  crearAdopcion(form){\r\n    this.presentLoading(\"Espere por favor...\");\r\n    this.adopcion.Titulo = form.value.titulo\r\n    this.adopcion.Descripcion = form.value.descripcion\r\n    if(this.file1 != null && this.file2 != null){\r\n    this.guardarArchivo();}\r\n    else if(this.file1 != null){\r\n      this.guardarunarchivo(this.file1, 1);this.registroCompleto()}\r\n    else if(this.file2 != null){\r\n        this.guardarunarchivo(this.file2, 2);this.registroCompleto()}  \r\n    else{\r\n      this.registroCompleto()\r\n    }\r\n\r\n\r\n    \r\n  }\r\n  guardarunarchivo(file, num){\r\n    \r\n    var storageRef = this.angularFireStorage.storage.ref()  \r\n    storageRef.child(file.name).put(file)\r\n    .then(\r\n      data=>{\r\n        data.ref.getDownloadURL().then(\r\n        downloadURL => {\r\n          if(num == 1){this.adopcion.Foto1=downloadURL;this.image=downloadURL;}\r\n          else if(num == 2){this.adopcion.Foto2=downloadURL;this.image1=downloadURL;}\r\n          \r\n          \r\n             \r\n        })\r\n        .catch(err=>{\r\n          this.loading.dismiss();\r\n          console.log('error')});\r\n        }\r\n    )     \r\n  }\r\n  \r\n  guardarArchivo(){\r\n    var storageRef = this.angularFireStorage.storage.ref()  \r\n    storageRef.child(this.file1.name).put(this.file1)\r\n    .then(\r\n      data=>{\r\n        data.ref.getDownloadURL().then(\r\n        downloadURL => {this.adopcion.Foto1=downloadURL;\r\n\r\n\r\n\r\n          var storageRef = this.angularFireStorage.storage.ref()  \r\n          storageRef.child(this.file2.name).put(this.file2)\r\n          .then(\r\n            data=>{\r\n              data.ref.getDownloadURL().then(\r\n              downloadURL => {this.adopcion.Foto2=downloadURL;\r\n                              this.registroCompleto()                            \r\n              })\r\n              .catch(err=>{\r\n                this.loading.dismiss();\r\n                console.log('error')});\r\n              }\r\n          )\r\n                        \r\n        \r\n        \r\n        })\r\n        .catch(err=>{\r\n          this.loading.dismiss();\r\n          console.log('error')});\r\n        }\r\n    )     \r\n  }\r\n\r\n  registroCompleto(){\r\n    \r\n    \r\n    this.adopcionService.updateAdopcion(this.id,this.adopcion).then(\r\n      auth=>{\r\n        this.loading.dismiss();\r\n\r\n        this.router.navigate([\"/adopcion\"])\r\n      }       \r\n    ).catch(async error => {\r\n      this.loading.dismiss();\r\n      this.failedAlert(\"Algo salió mal, inténtelo de nuevo\");\r\n    })\r\n  }\r\n\r\n\r\n\r\n  async presentLoading(mensaje: string) {\r\n    this.loading = await this.loadingController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: mensaje,\r\n      //duration: 2000\r\n    });\r\n    return this.loading.present();\r\n  }\r\n  \r\n  async failedAlert(text: string) {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: text,\r\n    buttons: [{\r\n    text: 'OK',\r\n      handler: () => {\r\n        \r\n      }\r\n    }]   \r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}