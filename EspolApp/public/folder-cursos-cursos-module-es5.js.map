{"version":3,"sources":["webpack:///src/app/folder/cursos/cursos.page.html","webpack:///src/app/folder/cursos/cursos-routing.module.ts","webpack:///src/app/folder/cursos/cursos.module.ts","webpack:///src/app/folder/cursos/cursos.page.scss","webpack:///src/app/folder/cursos/cursos.page.ts","webpack:///src/app/models/anuncios.ts","webpack:///src/app/models/materia-solicitud.ts","webpack:///src/app/services/anuncios.service.ts","webpack:///src/app/services/materia-solicitud.service.ts"],"names":["routes","path","component","CursosPageRoutingModule","imports","forChild","exports","CursosPageModule","declarations","CursosPage","cursoService","usuarioService","materiaService","anuncioService","alertCtrt","cursos","user","textoBuscar","materia","anuncios","anuncio","getCursos","subscribe","res","userId","localStorage","getItem","rol","getUsuario","getAnuncio","getAnuncios","validarPublicacion","valor","Mostrar","Anuncio","failedAlert","event","texto","target","value","create","cssClass","header","inputs","name","placeholder","type","buttons","text","role","handler","blah","data","curso","agregarSolitiud","alert","present","Estado","NombreMateria","Usuario","addMateria","Visitas","updateAnuncio","id","updateUsuario","Titulo","message","Descripcion","aumentarAnuncio","selector","template","Anuncios","MateriaSolicitud","AnunciosService","firestore","anunciosCollection","collection","snapshotChanges","pipe","actions","map","a","payload","doc","update","providedIn","MateriaSolicitudService","materiasCollection","add"],"mappings":"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","file":"folder-cursos-cursos-module-es5.js","sourcesContent":["export default \"<ion-header >\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-segment color=\\\"tertiary\\\" value=\\\"cursos\\\" >\\r\\n \\r\\n      <!-- <ion-segment-button *ngIf=\\\"Rol==Ayudante\\\" value=\\\"mis-ayudantias\\\" [routerLink]=\\\"['/mis-ayudantias']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"file-tray-stacked-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Mis Cursos</ion-label>\\r\\n      </ion-segment-button> -->\\r\\n\\r\\n      <ion-segment-button value=\\\"publicaciones\\\" [routerLink]=\\\"['/publicaciones']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"newspaper-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Publicaciones</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n      <ion-segment-button value=\\\"cursos\\\" [routerLink]=\\\"['/cursos']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"library-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 14px;\\\">Cursos</ion-label>\\r\\n      </ion-segment-button>\\r\\n    \\r\\n    \\r\\n      <ion-segment-button value=\\\"perfil\\\" [routerLink]=\\\"['/perfil']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"person-circle-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Perfil</ion-label>\\r\\n      </ion-segment-button>\\r\\n\\r\\n  \\r\\n\\r\\n  \\r\\n\\r\\n</ion-segment>\\r\\n\\r\\n</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-searchbar\\r\\n    color=\\\"light\\\" \\r\\n    placeholder = \\\"Buscar curso...\\\"\\r\\n    animated\\r\\n\\r\\n    (ionChange)=\\\"buscar($event)\\\">\\r\\n    </ion-searchbar>\\r\\n\\r\\n  <ion-card *ngFor=\\\"let curso of cursos | filtroCurso: textoBuscar\\\" scrollable class = \\\"item\\\">\\r\\n    <ion-item [routerLink]=\\\"['/curso-detalle',curso.id, curso.Nombre]\\\" >\\r\\n\\r\\n      <ion-thumbnail slot=\\\"start\\\" slot=\\\"start\\\">\\r\\n        <img src=\\\"{{curso.Imagen}}\\\" alet=\\\"foto\\\">\\r\\n      </ion-thumbnail>\\r\\n      <ion-card-title>{{curso.Nombre}}</ion-card-title>\\r\\n    </ion-item>\\r\\n  \\r\\n\\r\\n  </ion-card>\\r\\n\\r\\n  <ion-fab *ngIf=\\\"rol=='Ayudante'\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click)=\\\"crearCurso()\\\">\\r\\n     <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  \\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CursosPage } from './cursos.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CursosPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CursosPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CursosPageRoutingModule } from './cursos-routing.module';\r\n\r\nimport { CursosPage } from './cursos.page';\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    PipesModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CursosPageRoutingModule\r\n  ],\r\n  declarations: [CursosPage]\r\n})\r\nexport class CursosPageModule {}\r\n","export default \".item {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2N1cnNvcy9jdXJzb3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvZm9sZGVyL2N1cnNvcy9jdXJzb3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLml0ZW0ge1xyXG4gICAgY29sb3I6IGJsdWU7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Cursos } from 'src/app/models/cursos';\r\nimport { CursosService } from 'src/app/services/cursos.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { MateriaSolicitud } from 'src/app/models/materia-solicitud';\r\nimport { MateriaSolicitudService } from 'src/app/services/materia-solicitud.service';\r\nimport { Anuncios } from 'src/app/models/anuncios';\r\nimport { AnunciosService } from 'src/app/services/anuncios.service';\r\nimport { Usuarios } from 'src/app/models/usuarios';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\n@Component({\r\n  selector: 'app-cursos',\r\n  templateUrl: './cursos.page.html',\r\n  styleUrls: ['./cursos.page.scss'],\r\n})\r\nexport class CursosPage implements OnInit {\r\n\r\n  cursos: Cursos[]=[];\r\n  public user: Usuarios=new Usuarios();\r\n  textoBuscar='';\r\n  userId;\r\n  materia : MateriaSolicitud = new MateriaSolicitud();\r\n  rol;\r\n  anuncios: Anuncios[]=[];\r\n  public anuncio: Anuncios=new Anuncios();\r\n\r\n  constructor(private cursoService: CursosService,\r\n              private usuarioService: UsuarioService,\r\n              public materiaService: MateriaSolicitudService,\r\n              public anuncioService: AnunciosService,\r\n              private alertCtrt: AlertController,) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.cursoService.getCursos().subscribe(res => this.cursos = res);\r\n    this.userId = localStorage.getItem('userId')\r\n    this.rol = localStorage.getItem('Rol')\r\n    \r\n    this.usuarioService.getUsuario(localStorage.getItem('userId')).subscribe(res => {this.user =res;this.getAnuncio()});\r\n    \r\n  }\r\n\r\n  getAnuncio(){\r\n    this.anuncioService.getAnuncios().subscribe(res=> {this.anuncios = res;this.validarPublicacion()});\r\n  }\r\n\r\n  validarPublicacion(){\r\n    const valor = this.anuncios[0].Mostrar;\r\n    this.anuncio = this.anuncios[0]\r\n    //console.log('valor:',valor)\r\n    //console.log(this.user.Anuncio)\r\n    if(this.anuncios[0].Mostrar && this.user.Anuncio){\r\n      this.failedAlert()\r\n    }\r\n  }\r\n\r\n  buscar(event){\r\n    const texto = event.target.value\r\n    this.textoBuscar=texto;\r\n    //console.log(this.anuncios[0].Titulo)\r\n  }\r\n\r\n  async crearCurso() {\r\n\r\n    const alert = await this.alertCtrt.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Sugerir curso:',\r\n      \r\n      // message: 'Nombre del curso:',\r\n      inputs: [\r\n        {\r\n          name: 'curso',\r\n          placeholder: 'Nombre del curso',\r\n          type: 'text'\r\n          \r\n        }\r\n      ],\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n           // console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Ok',\r\n          handler: (data) => {\r\n            if(data.curso != \"\"){\r\n              this.agregarSolitiud(data.curso)\r\n            }else if(data.curso== \"\"){\r\n              \r\n              //this.failedAlert(\"El campo email es requerido\");\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  agregarSolitiud(curso:string){\r\n    this.materia.Estado = true;\r\n    this.materia.NombreMateria = curso;\r\n    this.materia.Usuario = this.userId;\r\n    this.materiaService.addMateria(this.materia);\r\n\r\n  }\r\n\r\n  aumentarAnuncio(){\r\n    this.anuncio.Visitas = this.anuncio.Visitas + 1\r\n    this.anuncioService.updateAnuncio(this.anuncio.id,this.anuncio)\r\n    this.user.Anuncio = false;\r\n    this.usuarioService.updateUsuario(localStorage.getItem('userId'),this.user)\r\n  }\r\n\r\n  async failedAlert() {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: this.anuncios[0].Titulo,\r\n     message: this.anuncios[0].Descripcion,\r\n      buttons: [\r\n          {\r\n            text: 'Ok',\r\n            role: 'cancel',\r\n            cssClass: 'secondary',\r\n            handler: (blah) => {\r\n              this.aumentarAnuncio();\r\n              //console.log(blah)\r\n              \r\n            }\r\n          }\r\n          // , {\r\n          //   text: 'Registrar materia',\r\n          //   handler: (data) => {\r\n          //     //this.router.navigate(['/crear-ayudantia']);\r\n              \r\n          //     console.log('registrar')\r\n            \r\n          //   }\r\n          // }\r\n        ]\r\n      });\r\n    await alert.present();\r\n  }\r\n\r\n  async alert(id) {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: \"¿Desea eliminar esta publicación?\",\r\n    buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            //console.log('Confirm Cancel: blah');\r\n          }\r\n        }, \r\n        {\r\n          text: 'Elminar',\r\n          handler: (data) => {\r\n            //this.remove(id)                  \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n\r\n\r\n}\r\n","export class Anuncios {\r\n    id?: string;\r\n    Titulo: string;\r\n    Descripcion: string;\r\n    Mostrar: boolean;\r\n    Visitas: number;\r\n}","export class MateriaSolicitud {\r\n    id?: string;\r\n    Estado: boolean;\r\n    NombreMateria: string;\r\n    Usuario: string;\r\n}","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Anuncios } from '../models/anuncios';\r\n// import firebase from 'firebase/app';\r\n// import 'firebase/firestore';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AnunciosService {\r\n\r\n  private anunciosCollection: AngularFirestoreCollection <Anuncios>;\r\n  private anuncios: Observable<Anuncios[]>;\r\n\r\n  constructor(private firestore: AngularFirestore) {\r\n    this.anunciosCollection = firestore.collection('Anuncios');\r\n    this.anuncios = this.anunciosCollection.snapshotChanges().pipe(map(\r\n      actions =>{\r\n        return actions.map( a=>{\r\n          const data = a.payload.doc.data();\r\n          const id = a.payload.doc.id;\r\n          return {id, ...data}\r\n        })\r\n      }\r\n    ))\r\n   }\r\n  getAnuncios(){\r\n    return this.anuncios;\r\n  }\r\n  \r\n  // getAyudante(id:string){\r\n  //   return this.ayudantesCollection.doc<Ayudantes>(id).valueChanges();\r\n  // }\r\n\r\n  // addAyudante(Ayudantes:Ayudantes){\r\n  //   return this.ayudantesCollection.add({...Ayudantes});\r\n  // }\r\n\r\n  updateAnuncio(id:string, Anuncios:Anuncios){\r\n    return this.anunciosCollection.doc(id).update({...Anuncios});\r\n  }\r\n\r\n//   removeAyudante(id:string){\r\n//     return this.ayudantesCollection.doc(id).delete();\r\n//  }\r\n\r\n\r\n//  getAyudanteMateria(materia:string){\r\n//    return this.ayudantesCollection.snapshotChanges().where(\"Materia\", \"==\", materia).get();\r\n//  }\r\n\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { MateriaSolicitud } from '../models/materia-solicitud';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MateriaSolicitudService {\r\n\r\n    private materiasCollection: AngularFirestoreCollection <MateriaSolicitud>;\r\n    private materias: Observable<MateriaSolicitud[]>;\r\n\r\n    constructor(firestore: AngularFirestore) {\r\n      this.materiasCollection = firestore.collection('MateriasSolicitud');\r\n   \r\n    }\r\n  \r\n    addMateria(MateriaSolicitud:MateriaSolicitud){\r\n      return this.materiasCollection.add({...MateriaSolicitud})\r\n    }\r\n\r\n\r\n\r\n\r\n}"]}