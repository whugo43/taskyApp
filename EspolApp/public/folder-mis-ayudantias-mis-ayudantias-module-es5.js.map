{"version":3,"sources":["webpack:///src/app/folder/mis-ayudantias/mis-ayudantias.page.html","webpack:///src/app/folder/mis-ayudantias/mis-ayudantias-routing.module.ts","webpack:///src/app/folder/mis-ayudantias/mis-ayudantias.module.ts","webpack:///src/app/folder/mis-ayudantias/mis-ayudantias.page.scss","webpack:///src/app/folder/mis-ayudantias/mis-ayudantias.page.ts"],"names":["routes","path","component","MisAyudantiasPageRoutingModule","imports","forChild","exports","MisAyudantiasPageModule","declarations","MisAyudantiasPage","ayudanteService","alertCtrt","usuarioService","router","cursosService","ayudantias","usuario","cursos","textoBuscar","getUsuario","localStorage","getItem","subscribe","res","console","log","id","getAyudantes","getCursos","event","texto","target","value","create","cssClass","header","buttons","text","role","handler","blah","data","remove","alert","present","removeAyudante","Cursos","updateUsuario","Premium","navigate","failedAlertPremium","message","serPremium","i","length","Usuario","EsperaPremium","then","failedAlertPremiunMessage","selector","template"],"mappings":"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","file":"folder-mis-ayudantias-mis-ayudantias-module-es5.js","sourcesContent":["export default \"<ion-header >\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-segment color=\\\"tertiary\\\" value=\\\"perfil\\\" >\\r\\n\\r\\n      <!-- <ion-segment-button *ngIf=\\\"Rol==Ayudante\\\" value=\\\"mis-ayudantias\\\" [routerLink]=\\\"['/mis-ayudantias']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"file-tray-stacked-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Mis Cursos</ion-label>\\r\\n      </ion-segment-button> -->\\r\\n\\r\\n      <ion-segment-button value=\\\"publicaciones\\\" [routerLink]=\\\"['/publicaciones']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"newspaper-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Publicaciones</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n      <ion-segment-button value=\\\"cursos\\\" [routerLink]=\\\"['/cursos']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"library-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 14px;\\\">Cursos</ion-label>\\r\\n      </ion-segment-button>\\r\\n    \\r\\n    \\r\\n      <ion-segment-button value=\\\"perfil\\\" [routerLink]=\\\"['/perfil']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"person-circle-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Perfil</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n  \\r\\n\\r\\n  \\r\\n\\r\\n    </ion-segment>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n   <ion-searchbar\\r\\n    color=\\\"light\\\" \\r\\n    placeholder = \\\"Buscar curso...\\\"\\r\\n    animated\\r\\n\\r\\n    (ionChange)=\\\"buscar($event)\\\">\\r\\n    </ion-searchbar>\\r\\n\\r\\n  <ng-container *ngFor=\\\"let ayudante of ayudantias\\\">\\r\\n    <ng-container *ngIf=\\\"ayudante.Usuario == id\\\">\\r\\n      <ng-container *ngFor=\\\"let curso of cursos | filtroCurso: textoBuscar\\\">\\r\\n        <ion-card *ngIf=\\\"ayudante.Materia == curso.id\\\" scrollable class = \\\"item\\\">\\r\\n          <ion-item >\\r\\n      \\r\\n            <ion-thumbnail slot=\\\"start\\\" slot=\\\"start\\\" [routerLink]=\\\"['/mis-comentarios', curso.id]\\\">\\r\\n              <img src=\\\"{{curso.Imagen}}\\\" alet=\\\"foto\\\">\\r\\n            </ion-thumbnail>\\r\\n            <ion-card-title style=\\\"font-size: 17.2px;\\\" [routerLink]=\\\"['/mis-comentarios', curso.id]\\\">{{curso.Nombre}}</ion-card-title>\\r\\n\\r\\n            \\r\\n            <ion-button fill=\\\"outline\\\" slot='end'><ion-icon name=\\\"eye-outline\\\" ></ion-icon><label style=\\\"font-size: 12;margin-left: 7.5px;\\\" >{{ayudante.Visitas}}</label></ion-button>\\r\\n            <ion-icon name=\\\"trash-outline\\\" slot='end' color=\\\"danger\\\" (click)=\\\"alert(ayudante.id)\\\"></ion-icon>\\r\\n\\r\\n          </ion-item>\\r\\n        \\r\\n      \\r\\n        </ion-card>\\r\\n\\r\\n      </ng-container>\\r\\n\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n\\r\\n   <ng-container *ngIf=\\\"getDatos()\\\">\\r\\n\\r\\n    <div style=\\\"margin-top: 75px;\\\" align='center'> \\r\\n      <ion-text color=\\\"medium\\\">\\r\\n\\r\\n        <img src=\\\"https://firebasestorage.googleapis.com/v0/b/taskyapp01.appspot.com/o/iconos%2FmisAyudantias.png?alt=media&token=f0b8c2fd-9eae-4188-9000-fb9ed77978f1\\\" style=\\\"width: 55%; height:62%;\\\" alet=\\\"foto\\\">\\r\\n        \\r\\n        <p style=\\\"font-size: 21px;\\\">No hay ayudantías registradas.</p>\\r\\n      </ion-text>  \\r\\n    </div>\\r\\n  </ng-container>\\r\\n\\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click) = 'validarCurso()'>\\r\\n     <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n  </ion-fab-button>\\r\\n\\r\\n</ion-fab>\\r\\n  \\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisAyudantiasPage } from './mis-ayudantias.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisAyudantiasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisAyudantiasPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisAyudantiasPageRoutingModule } from './mis-ayudantias-routing.module';\r\n\r\nimport { MisAyudantiasPage } from './mis-ayudantias.page';\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    PipesModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisAyudantiasPageRoutingModule\r\n  ],\r\n  declarations: [MisAyudantiasPage]\r\n})\r\nexport class MisAyudantiasPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9taXMtYXl1ZGFudGlhcy9taXMtYXl1ZGFudGlhcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Ayudantes } from 'src/app/models/ayudantes';\r\nimport { Cursos } from 'src/app/models/cursos';\r\nimport { AyudantesService } from 'src/app/services/ayudantes.service';\r\n\r\nimport { CursosService } from 'src/app/services/cursos.service';\r\n\r\nimport { AlertController } from '@ionic/angular';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Usuarios } from 'src/app/models/usuarios';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-mis-ayudantias',\r\n  templateUrl: './mis-ayudantias.page.html',\r\n  styleUrls: ['./mis-ayudantias.page.scss'],\r\n})\r\nexport class MisAyudantiasPage implements OnInit {\r\n\r\n  ayudantias:Ayudantes[]= [];\r\n   usuario: Usuarios = new Usuarios();\r\n  cursos:Cursos[]= [];\r\n  id;\r\n  textoBuscar='';\r\n\r\n  constructor(private ayudanteService: AyudantesService,\r\n    private alertCtrt: AlertController,\r\n    private usuarioService: UsuarioService,         \r\n    private router: Router,\r\n    private cursosService: CursosService) { }\r\n\r\n  ngOnInit() {\r\n    this.usuarioService.getUsuario( localStorage.getItem('userId')).subscribe(res => this.usuario = res)\r\n   \r\n    console.log( localStorage.getItem(\"userId\"))\r\n    this.id = localStorage.getItem(\"userId\")\r\n    this.ayudanteService.getAyudantes().subscribe(res => this.ayudantias = res);\r\n    this.cursosService.getCursos().subscribe(res => this.cursos = res);\r\n  }\r\n\r\n  buscar(event){\r\n    const texto = event.target.value\r\n    this.textoBuscar=texto;\r\n  }\r\n \r\n \r\n\r\n\r\n  async alert(id) {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: \"¿Desea eliminar esta materia de sus ayudantias?\",\r\n    buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Elminar',\r\n          handler: (data) => {\r\n            this.remove(id)                  \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n  remove(id){\r\n     this.ayudanteService.removeAyudante(id)\r\n     this.usuario.Cursos =  this.usuario.Cursos - 1\r\n     this.usuarioService.updateUsuario(this.id, this.usuario)\r\n  }\r\n\r\n   validarCurso(){\r\n   \r\n    if((this.usuario.Premium) || (this.usuario.Premium == false && this.usuario.Cursos < 2)){\r\n      this.router.navigate([\"/crear-ayudantia\"])\r\n      // this.mostrarBoton = false;//mostrar mensaje.\r\n      //  [routerLink]=\"['/crear-grupo',id]\"\r\n      \r\n\r\n    }else{\r\n      this.failedAlertPremium();\r\n\r\n\r\n    }\r\n\r\n    \r\n  \r\n\r\n  }\r\n\r\n  async failedAlertPremium() {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: \"Su cuenta no es premium\",\r\n     message: \"Máximo puedes registrarte en 2 cursos.\",\r\n    buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Ser premium',\r\n          handler: (data) => {\r\n            this.serPremium()\r\n            \r\n            console.log('registrar')\r\n          \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  getDatos(){\r\n    for(let i= 0; i<this.ayudantias.length; i++){\r\n      if(this.ayudantias[i].Usuario == this.id){     \r\n            return false;      \r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  \r\n  serPremium(){\r\n    this.usuario.EsperaPremium = true;\r\n    this.usuarioService.updateUsuario(localStorage.getItem('userId'),this.usuario)\r\n      .then(res => {\r\n        this.failedAlertPremiunMessage();\r\n      });\r\n  }\r\n  async failedAlertPremiunMessage() {\r\n    const alert = await this.alertCtrt.create({\r\n     cssClass: 'my-custom-class',\r\n     header: \"Genial!\",\r\n     message: 'Pronto estaremos en contacto contigo por whatsapp!',\r\n    buttons: [{\r\n    text: 'OK',\r\n      handler: () => {\r\n        \r\n      }\r\n    }]   \r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n\r\n  \r\n\r\n}\r\n"]}