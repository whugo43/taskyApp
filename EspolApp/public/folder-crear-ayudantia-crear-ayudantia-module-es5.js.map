{"version":3,"sources":["webpack:///src/app/folder/crear-ayudantia/crear-ayudantia.page.html","webpack:///src/app/folder/crear-ayudantia/crear-ayudantia-routing.module.ts","webpack:///src/app/folder/crear-ayudantia/crear-ayudantia.module.ts","webpack:///src/app/folder/crear-ayudantia/crear-ayudantia.page.scss","webpack:///src/app/folder/crear-ayudantia/crear-ayudantia.page.ts"],"names":["routes","path","component","CrearAyudantiaPageRoutingModule","imports","forChild","exports","CrearAyudantiaPageModule","declarations","CrearAyudantiaPage","ayudanteService","cursoService","usuarioService","router","cursos","ayudantias","cursosMisAyudantias","todosCursos","nuevosCursos","usuario","textoBuscar","nuevoAyudante","miId","localStorage","getItem","getUsuario","subscribe","res","getAyudantes","listaCursos","getCursos","llenarCursos","nuevos","index","length","push","id","event","texto","target","value","includes","Usuario","Materia","idAyudantia","data","Visitas","Like","Dislike","Cursos","updateUsuario","addAyudante","then","auth","navigateByUrl","error","selector","template"],"mappings":"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","file":"folder-crear-ayudantia-crear-ayudantia-module-es5.js","sourcesContent":["export default \"<ion-header >\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-segment color=\\\"tertiary\\\" value=\\\"perfil\\\" >\\r\\n\\r\\n      <!-- <ion-segment-button *ngIf=\\\"Rol==Ayudante\\\" value=\\\"mis-ayudantias\\\" [routerLink]=\\\"['/mis-ayudantias']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"file-tray-stacked-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Mis Cursos</ion-label>\\r\\n      </ion-segment-button> -->\\r\\n\\r\\n      <ion-segment-button value=\\\"publicaciones\\\" [routerLink]=\\\"['/publicaciones']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"newspaper-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Publicaciones</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n      <ion-segment-button value=\\\"cursos\\\" [routerLink]=\\\"['/cursos']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"library-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 14px;\\\">Cursos</ion-label>\\r\\n      </ion-segment-button>\\r\\n    \\r\\n    \\r\\n      <ion-segment-button value=\\\"perfil\\\" [routerLink]=\\\"['/perfil']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"person-circle-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Perfil</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n  \\r\\n\\r\\n  \\r\\n\\r\\n    </ion-segment>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-searchbar\\r\\n  color=\\\"light\\\" \\r\\n  placeholder = \\\"Buscar curso...\\\"\\r\\n  animated\\r\\n\\r\\n  (ionChange)=\\\"buscar($event)\\\">\\r\\n  </ion-searchbar>\\r\\n\\r\\n\\r\\n\\r\\n  <ng-container *ngFor=\\\"let curso of nuevosCursos\\\">\\r\\n\\r\\n    <ng-container *ngFor=\\\"let materia of cursos | filtroCurso: textoBuscar\\\">\\r\\n\\r\\n\\r\\n\\r\\n      <ion-item *ngIf=\\\"curso==materia.id\\\" style=\\\"padding: 2.5px;\\\"  >\\r\\n        <!-- [routerLink]=\\\"['/curso-detalle',curso.id, curso.Nombre]\\\" -->\\r\\n        <ion-thumbnail slot=\\\"start\\\" slot=\\\"start\\\">\\r\\n          <img src=\\\"{{materia.Imagen}}\\\" alet=\\\"foto\\\">\\r\\n        </ion-thumbnail>\\r\\n        <ion-card-title ><label style=\\\"font-size: 17.2px; font-weight: bold; \\\">{{materia.Nombre}}</label></ion-card-title>\\r\\n\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"person-add-outline\\\" (click)=\\\"crearAyudantia(materia.id)\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n  \\r\\n\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n\\r\\n   \\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CrearAyudantiaPage } from './crear-ayudantia.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CrearAyudantiaPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CrearAyudantiaPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CrearAyudantiaPageRoutingModule } from './crear-ayudantia-routing.module';\r\n\r\nimport { CrearAyudantiaPage } from './crear-ayudantia.page';\r\n\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    PipesModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CrearAyudantiaPageRoutingModule\r\n  ],\r\n  declarations: [CrearAyudantiaPage]\r\n})\r\nexport class CrearAyudantiaPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9jcmVhci1heXVkYW50aWEvY3JlYXItYXl1ZGFudGlhLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Cursos } from 'src/app/models/cursos';\r\nimport { CursosService } from 'src/app/services/cursos.service';\r\nimport { Ayudantes } from 'src/app/models/ayudantes';\r\nimport { AyudantesService } from 'src/app/services/ayudantes.service';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Usuarios } from 'src/app/models/usuarios';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-crear-ayudantia',\r\n  templateUrl: './crear-ayudantia.page.html',\r\n  styleUrls: ['./crear-ayudantia.page.scss'],\r\n})\r\nexport class CrearAyudantiaPage implements OnInit {\r\n\r\n  cursos: Cursos[]=[];\r\n  miId; \r\n  ayudantias:Ayudantes[]= [];\r\n  cursosMisAyudantias = [];\r\n  todosCursos = [];\r\n  nuevosCursos = [];\r\n  usuario: Usuarios = new Usuarios();\r\n  \r\n  textoBuscar='';\r\n  public nuevoAyudante: Ayudantes=new Ayudantes();\r\n\r\n  constructor(private ayudanteService: AyudantesService,\r\n              private cursoService: CursosService,\r\n              private usuarioService: UsuarioService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.miId = localStorage.getItem('userId');\r\n    this.usuarioService.getUsuario( localStorage.getItem('userId')).subscribe(res => this.usuario = res)\r\n    this.ayudanteService.getAyudantes().subscribe(res => {this.ayudantias = res;this.listaCursos();this.getCursos()});\r\n    \r\n    \r\n    \r\n\r\n    \r\n  }\r\n\r\n  getCursos(){\r\n    this.cursoService.getCursos().subscribe(res => {this.cursos = res;this.llenarCursos();this.nuevos()});\r\n    \r\n    \r\n  }\r\n\r\n  llenarCursos(){\r\n    for (let index = 0; index < this.cursos.length; index++) {      \r\n        this.todosCursos.push(this.cursos[index].id)    \r\n    }\r\n  }\r\n\r\n  buscar(event){\r\n    const texto = event.target.value\r\n    this.textoBuscar=texto;\r\n  }\r\n\r\n  nuevos(){\r\n\r\n    for (let index = 0; index < this.todosCursos.length; index++) {\r\n      \r\n      if(this.cursosMisAyudantias.includes(this.todosCursos[index])){\r\n\r\n      }\r\n      else{\r\n        this.nuevosCursos.push(this.todosCursos[index])\r\n      }\r\n    \r\n      \r\n\r\n    }\r\n    //console.log('hola',this.nuevosCursos)\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  listaCursos(){\r\n    for (let index = 0; index < this.ayudantias.length; index++) {\r\n      if(this.ayudantias[index].Usuario == this.miId){\r\n        this.cursosMisAyudantias.push(this.ayudantias[index].Materia)\r\n      }\r\n      \r\n\r\n    }\r\n    \r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  crearAyudantia(idAyudantia:string){\r\n    let data = {Visitas:0,Materia:idAyudantia,Usuario:this.miId}\r\n    this.nuevoAyudante.Visitas = 0;\r\n    this.nuevoAyudante.Materia = idAyudantia;\r\n    this.nuevoAyudante.Usuario = this.miId;\r\n    this.nuevoAyudante.Like = 0;\r\n    this.nuevoAyudante.Dislike = 0;\r\n    this.usuario.Cursos =  this.usuario.Cursos + 1\r\n     this.usuarioService.updateUsuario(this.miId, this.usuario)\r\n\r\n                \r\n\r\n    this.ayudanteService.addAyudante(this.nuevoAyudante).then(\r\n      auth=>{\r\n        //this.loading.dismiss();\r\n        this.router.navigateByUrl(\"/mis-ayudantias\")\r\n      }       \r\n    ).catch(async error => {\r\n     // this.loading.dismiss();\r\n      //this.failedAlert(\"Algo salió mal, inténtelo de nuevo\");\r\n    })\r\n\r\n  }\r\n}\r\n"]}