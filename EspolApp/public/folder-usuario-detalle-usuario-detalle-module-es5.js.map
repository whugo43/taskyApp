{"version":3,"sources":["webpack:///src/app/folder/usuario-detalle/usuario-detalle.page.html","webpack:///src/app/folder/usuario-detalle/usuario-detalle-routing.module.ts","webpack:///src/app/folder/usuario-detalle/usuario-detalle.module.ts","webpack:///src/app/folder/usuario-detalle/usuario-detalle.page.scss","webpack:///src/app/folder/usuario-detalle/usuario-detalle.page.ts","webpack:///src/app/models/calificaciones.ts","webpack:///src/app/services/calificaciones.service.ts"],"names":["routes","path","component","UsuarioDetallePageRoutingModule","imports","forChild","exports","UsuarioDetallePageModule","declarations","UsuarioDetallePage","activateRoute","usuarioService","ayudantesService","calificacionesService","usuario","ayudantes","calificaciones","myId","localStorage","getItem","paramMap","subscribe","idUsuario","get","idMateria","id","getUsuario","res","getAyudantes","getCalificaciones","controlar","ayudante","index","length","Materia","Usuario","Like","updateAyudante","calificacion","Ayudante","Estudiante","addCalificacion","click","Dislike","validar","selector","template","Calificaciones","CalificacionesService","firestore","calificacionesCollection","collection","snapshotChanges","pipe","actions","map","a","data","payload","doc","valueChanges","add","providedIn"],"mappings":"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","file":"folder-usuario-detalle-usuario-detalle-module-es5.js","sourcesContent":["export default \"<ion-header >\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-segment color=\\\"tertiary\\\" value=\\\"cursos\\\" >\\r\\n\\r\\n      <!-- <ion-segment-button *ngIf=\\\"Rol==Ayudante\\\" value=\\\"mis-ayudantias\\\" [routerLink]=\\\"['/mis-ayudantias']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"file-tray-stacked-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Mis Cursos</ion-label>\\r\\n      </ion-segment-button> -->\\r\\n\\r\\n      <ion-segment-button value=\\\"publicaciones\\\" [routerLink]=\\\"['/publicaciones']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"newspaper-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n        <ion-label style=\\\"font-size: 14;\\\">Publicaciones</ion-label>\\r\\n      </ion-segment-button>\\r\\n      \\r\\n      <ion-segment-button value=\\\"cursos\\\" [routerLink]=\\\"['/cursos']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"library-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 14px;\\\">Cursos</ion-label>\\r\\n      </ion-segment-button>\\r\\n    \\r\\n    \\r\\n      <ion-segment-button value=\\\"perfil\\\" [routerLink]=\\\"['/perfil']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"person-circle-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Perfil</ion-label>\\r\\n      </ion-segment-button>\\r\\n\\r\\n      <ion-segment-button value=\\\"adopcion\\\" [routerLink]=\\\"['/adopcion']\\\" routerDirection=\\\"root\\\">\\r\\n        <ion-icon name=\\\"paw-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label style=\\\"font-size: 12px;\\\">Adopcion</ion-label>\\r\\n      </ion-segment-button>\\r\\n\\r\\n  \\r\\n\\r\\n    </ion-segment>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n    <ion-toolbar>\\r\\n\\r\\n\\r\\n    \\r\\n      <ion-segment color=\\\"tertiary\\\" value=\\\"datos\\\">\\r\\n    \\r\\n    \\r\\n    \\r\\n     \\r\\n    \\r\\n    \\r\\n        <ion-segment-button value=\\\"datos\\\" [routerLink]=\\\"['/usuario-detalle',idMateria, id]\\\" routerDirection=\\\"root\\\">\\r\\n          <ion-icon name=\\\"information-circle-outline\\\" size=\\\"large\\\"></ion-icon> \\r\\n          <ion-label>Datos</ion-label>\\r\\n        </ion-segment-button>\\r\\n        \\r\\n        <ion-segment-button value=\\\"comentarios\\\" [routerLink]=\\\"['/comentarios-usuario', idMateria, id]\\\" routerDirection=\\\"root\\\">\\r\\n          <ion-icon name=\\\"chatbubbles-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label>Comentarios</ion-label>\\r\\n        </ion-segment-button>\\r\\n    \\r\\n    \\r\\n    \\r\\n      \\r\\n      </ion-segment>\\r\\n    \\r\\n    </ion-toolbar>\\r\\n\\r\\n  <!-- <ion-segment color=\\\"tertiary\\\" value=\\\"anuncio\\\">\\r\\n\\r\\n    <ion-segment-button value=\\\"anuncios\\\" layout=\\\"icon-start\\\" [routerLink]=\\\"['/curso-detalle',id, nombreCurso]\\\" routerDirection=\\\"root\\\">\\r\\n      <ion-icon name=\\\"megaphone-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label>Anuncios</ion-label>\\r\\n    </ion-segment-button>\\r\\n    \\r\\n    <ion-segment-button value=\\\"ayudantes\\\" layout=\\\"icon-start\\\"  [routerLink]=\\\"['/curso-ayudantes',id, nombreCurso]\\\" routerDirection=\\\"root\\\">\\r\\n      <ion-icon name=\\\"people-outline\\\" size=\\\"large\\\"></ion-icon> <ion-label>Ayudantes</ion-label>\\r\\n    </ion-segment-button>\\r\\n\\r\\n   \\r\\n  </ion-segment> -->\\r\\n\\r\\n\\r\\n  <ion-card>\\r\\n\\r\\n    <ion-item>\\r\\n\\r\\n      <ion-img id=\\\"blah\\\" src=\\\"{{usuario.FotoPerfil}}\\\" alt=\\\"your image\\\" style=\\\"margin-top:2.5px;margin-bottom: 2.5px;height: 325px;width: 325px;\\\"></ion-img>\\r\\n\\r\\n    </ion-item>\\r\\n    <!-- <ion-img src=\\\"{{usuario.FotoPerfil}}\\\" style=\\\"margin-top:7.5px;margin-bottom: 7.5px;\\\"></ion-img> -->\\r\\n    <!-- <ion-card-header>\\r\\n      <ion-card-title>Correo: {{usuario.Correo}}</ion-card-title>\\r\\n    </ion-card-header> -->\\r\\n\\r\\n    \\r\\n    <ion-item style=\\\"margin-top: 7.5px;\\\">\\r\\n      <ion-icon name=\\\"person-outline\\\" size=\\\"large\\\" color=\\\"success\\\" style=\\\"margin-right: 8px;\\\"></ion-icon>\\r\\n      <ion-label>{{usuario.Nombre}} {{usuario.Apellido}}</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <a href= 'https://api.whatsapp.com/send?phone={{usuario.Telefono}}'><ion-icon name=\\\"logo-whatsapp\\\" size=\\\"large\\\" color=\\\"success\\\" style=\\\"margin-right: 8px;\\\"></ion-icon></a>\\r\\n      <ion-label>{{usuario.Telefono}}</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <a href=\\\"mailto:{{usuario.Correo}}\\\"><ion-icon name=\\\"mail-outline\\\" size=\\\"large\\\" color=\\\"success\\\" style=\\\"margin-right: 8px;\\\"></ion-icon></a>\\r\\n      <ion-label>{{usuario.Correo}}</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <!-- <ion-item>\\r\\n\\r\\n      \\r\\n      <ion-icon name=\\\"mail-outline\\\" size=\\\"large\\\" color=\\\"success\\\" style=\\\"margin-right: 8px;\\\"></ion-icon>\\r\\n     \\r\\n      <a href=\\\"mailto:adanavarrete15@gmail.com\\\">Enviar</a>\\r\\n      <ion-label>Correo: {{usuario.Correo}}</ion-label>\\r\\n    </ion-item> -->\\r\\n\\r\\n    \\r\\n  </ion-card>\\r\\n\\r\\n  <div align=\\\"center\\\" *ngIf=\\\"myId!=id\\\">\\r\\n\\r\\n    <ion-button disabled = \\\"{{click}}\\\" color = \\\"primary\\\" fill=\\\"outline\\\" style=\\\"height: 45px;\\\" (click)=\\\"like()\\\">\\r\\n      <ion-icon size=\\\"large\\\" name=\\\"thumbs-up-outline\\\" ></ion-icon>\\r\\n    </ion-button>\\r\\n    <ion-button disabled = \\\"{{click}}\\\" color=\\\"danger\\\" style=\\\"margin-left: 5.5px;height: 45px;\\\" fill=\\\"outline\\\"  (click)=\\\"dislike()\\\">\\r\\n      <ion-icon size=\\\"large\\\" name=\\\"thumbs-down-outline\\\" ></ion-icon>\\r\\n    </ion-button>\\r\\n\\r\\n  </div>\\r\\n  \\r\\n</ion-content>\\r\\n<style>\\r\\n  ion-img {     \\r\\n    width: 35%;\\r\\n    height: 21%;\\r\\n    margin: auto;\\r\\n    display: block;\\r\\n    border-radius: 10px;\\r\\n    border-color: aquamarine;\\r\\n  }\\r\\n</style>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { UsuarioDetallePage } from './usuario-detalle.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UsuarioDetallePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UsuarioDetallePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UsuarioDetallePageRoutingModule } from './usuario-detalle-routing.module';\r\n\r\nimport { UsuarioDetallePage } from './usuario-detalle.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    UsuarioDetallePageRoutingModule\r\n  ],\r\n  declarations: [UsuarioDetallePage]\r\n})\r\nexport class UsuarioDetallePageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci91c3VhcmlvLWRldGFsbGUvdXN1YXJpby1kZXRhbGxlLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Usuarios } from 'src/app/models/usuarios';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { Ayudantes } from 'src/app/models/ayudantes';\r\nimport { Calificaciones } from 'src/app/models/calificaciones';\r\n\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { AyudantesService } from 'src/app/services/ayudantes.service';\r\nimport { CalificacionesService } from 'src/app/services/calificaciones.service';\r\n\r\n//import {EmailComposer, EmailComposerOptions} from \"@ionic-native/email-composer/ngx\";\r\n\r\n@Component({\r\n  selector: 'app-usuario-detalle',\r\n  templateUrl: './usuario-detalle.page.html',\r\n  styleUrls: ['./usuario-detalle.page.scss'],\r\n})\r\n\r\n\r\n\r\n\r\nexport class UsuarioDetallePage implements OnInit {\r\n\r\n\r\n  usuario: Usuarios = new Usuarios();\r\n  ayudantes: Ayudantes[]=[];\r\n  calificaciones: Calificaciones[] = [];\r\n  id:string;\r\n  idMateria:string;\r\n  myId:string;\r\n  click:boolean;\r\n  constructor(private activateRoute: ActivatedRoute,\r\n              private usuarioService: UsuarioService,\r\n              private ayudantesService: AyudantesService,\r\n              private calificacionesService: CalificacionesService,\r\n              ) { }\r\n\r\n  ngOnInit() {\r\n    this.myId = localStorage.getItem('userId')\r\n    this.activateRoute.paramMap.subscribe(paramMap => {\r\n      const idUsuario = paramMap.get('id');\r\n      const idMateria = paramMap.get('idMateria');\r\n      this.idMateria=idMateria;\r\n      this.id = idUsuario;\r\n      this.usuarioService.getUsuario(idUsuario).subscribe(res => {this.usuario = res;});\r\n     // this.actividadService.getActividad(idActividad).subscribe(res => this.actividad =res);\r\n    });\r\n\r\n\r\n    this.ayudantesService.getAyudantes().subscribe(res => {this.ayudantes = res;});\r\n    this.calificacionesService.getCalificaciones().subscribe(res => {this.calificaciones = res;this.controlar();});\r\n    \r\n  }\r\n\r\n  like(){\r\n   let  ayudante: Ayudantes = new Ayudantes();\r\n    for (let index = 0; index < this.ayudantes.length; index++) {\r\n      if((this.ayudantes[index].Materia == this.idMateria) && (this.ayudantes[index].Usuario == this.id)){\r\n        ayudante= this.ayudantes[index]\r\n        ayudante.Like=  ayudante.Like +1\r\n        this.ayudantesService.updateAyudante(ayudante.id,ayudante)\r\n\r\n        let calificacion: Calificaciones = new Calificaciones();\r\n        calificacion.Ayudante= this.id;\r\n        calificacion.Materia= this.idMateria;\r\n        calificacion.Estudiante=this.myId;\r\n        this.calificacionesService.addCalificacion(calificacion);\r\n      }\r\n      \r\n    }\r\n  this.click = true;\r\n  //this.controlar();\r\n   \r\n\r\n  }\r\n\r\n  dislike(){\r\n   let  ayudante: Ayudantes = new Ayudantes();\r\n    for (let index = 0; index < this.ayudantes.length; index++) {\r\n      if((this.ayudantes[index].Materia == this.idMateria) && (this.ayudantes[index].Usuario == this.id)){\r\n        ayudante= this.ayudantes[index]\r\n        ayudante.Dislike=  ayudante.Dislike +1\r\n        this.ayudantesService.updateAyudante(ayudante.id,ayudante)\r\n\r\n        let calificacion: Calificaciones = new Calificaciones();\r\n        calificacion.Ayudante= this.id;\r\n        calificacion.Materia= this.idMateria;\r\n        calificacion.Estudiante=this.myId;\r\n        this.calificacionesService.addCalificacion(calificacion);\r\n      }\r\n      \r\n    }\r\n    this.click = true;\r\n    //this.controlar();\r\n   \r\n\r\n  }\r\n\r\n\r\n  controlar(){ \r\n    let validar = true;\r\n\r\n\r\n    \r\n    for (let index = 0; index < this.calificaciones.length; index++) {\r\n      if((this.calificaciones[index].Materia == this.idMateria) && (this.calificaciones[index].Ayudante == this.id)&& (this.calificaciones[index].Estudiante == this.myId)){\r\n        this.click = true;\r\n        validar = false;\r\n        \r\n      }\r\n    }\r\n\r\n    if(validar){\r\n      this.click = false;\r\n    }\r\n\r\n    \r\n    \r\n    // if (validar= false){\r\n    //   this.click= true;\r\n    //   if(num ==0){this.like()}\r\n    //   if(num ==1){this.dislike()}\r\n    // }\r\n\r\n  }\r\n}","export class Calificaciones {\r\n    id?: string;\r\n    Ayudante: String;\r\n    Estudiante: string;\r\n    Materia: string;\r\n}","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Calificaciones } from '../models/calificaciones';\r\n// import firebase from 'firebase/app';\r\n// import 'firebase/firestore';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CalificacionesService {\r\n\r\n  private calificacionesCollection: AngularFirestoreCollection <Calificaciones>;\r\n  private calificaciones: Observable<Calificaciones[]>;\r\n\r\n  constructor(private firestore: AngularFirestore) {\r\n    this.calificacionesCollection = firestore.collection('Calificaciones');\r\n    this.calificaciones = this.calificacionesCollection.snapshotChanges().pipe(map(\r\n      actions =>{\r\n        return actions.map( a=>{\r\n          const data = a.payload.doc.data();\r\n          const id = a.payload.doc.id;\r\n          return {id, ...data}\r\n        })\r\n      }\r\n    ))\r\n   }\r\n  getCalificaciones(){\r\n    return this.calificaciones;\r\n  }\r\n  \r\n  getCalificacion(id:string){\r\n    return this.calificacionesCollection.doc<Calificaciones>(id).valueChanges();\r\n  }\r\n\r\n  addCalificacion(Calificaciones:Calificaciones){\r\n    return this.calificacionesCollection.add({...Calificaciones});\r\n  }\r\n\r\n//   updateAyudante(id:string, Ayudantes:Ayudantes){\r\n//     return this.ayudantesCollection.doc(id).update({...Ayudantes});\r\n//   }\r\n\r\n//   removeAyudante(id:string){\r\n//     return this.ayudantesCollection.doc(id).delete();\r\n//  }\r\n\r\n\r\n//  getAyudanteMateria(materia:string){\r\n//    return this.ayudantesCollection.snapshotChanges().where(\"Materia\", \"==\", materia).get();\r\n//  }\r\n\r\n\r\n}"]}